{% extends "base.html" %}

{% block title %}Graphs{% endblock %}

{% block extra_head %}
<script lang="javascript" type="text/javascript"
  src="{{media_url}}js/jquery-1.3.2.min.js"></script>

<script id="source" language="javascript" type="text/javascript">
function plot(element, name) {
    $("#chartarea")[0].style.display = "none";
  $.getJSON("{% url analysis_data %}", { name: name }, function(url) {
      $("#chartarea")[0].style.display = "block";
      $("#simplechart")[0].innerHTML = '<img src="' + url + '" width="750" height="375" />';
      $("#charttitle")[0].textContent = $.trim(element.textContent);
    }
  );
};
</script>
{% endblock %}

{% block super_content %}
<div class="column span-19 last">
<h2>Graphs</h2>
<h3>Available graphs</h3>
</div>
<div class="column span-5">
User profile
  <ul>
  <li>
    <a href="#" onclick="plot(this, 'lang_combined')">
      First language
    </a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'lang_second')">
      Second language
    </a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'lang_combined')">Combined languages</a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'syllabus_volume')">Syllabus by # users</a>
  </li>
</ul>
</div>
<div class="column span-5 prepend-2">
Tests and responses
<ul>
  <li>
    <a href="#" onclick="plot(this, 'test_mean')">Mean score
    by # tests</a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'test_volume')">Users by #
    tests</a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'response_volume')">Users by #
    responses</a>
  </li>
  <li>
    <a href="#" onclick="plot(this, 'test_length')">Test length by volume</a>
  </li>
</ul>
</div>
<div class="column span-5 prepend-2 last">
&nbsp;
</div>

<div class="column span-19 last">
  <div id="chartarea" style="display:none;">
    <h3 id="charttitle">Selected graph</h3>
    <div id="simplechart">
    </div>
  </div>
</div>
{% endblock %}
